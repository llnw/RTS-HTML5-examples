<!doctype html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Limelight RTSv2 Publisher Example</title>
  <script src="https://llrtsprod.s.llnwi.net/v1/sdk/html/current/llnwrtssdk.min.js"></script>
  <script src="https://webrtc.github.io/adapter/adapter-latest.js"></script>
  </style>
</head>

<body>
  <h1>Limelight RTSv2 Publisher Example</h1>
  <div class="llnw-rts-player" style="width:640px;height:480px;">
    <video id="limelightlive-publish"
      class="llnw-rts-media llnw-media-background"
      width="640" height="480"
      autoplay muted></video>
  </div>
  <script>
    var config = {
      mediaElement: document.getElementById('limelightlive-publish'),
      host: '<ingest host>',
      shortName: '<short name>',
      streamName: '<stream name>',
      username: '<username>',
      password: '<password>',
      rendition: '<rendition>',
      mediaConstraints: {
        audio: true,
        video: {
          width: { exact: 640 }, height: { exact: 480 },
          frameRate: 10,
          facingMode: 'environment',
        },
      },
    };

    (new llnwrtssdk.Publisher())
      .init(config)
      .then(function(publisher) {
        return publisher.publish();
      }).catch(function(e) {
        console.error('Publisher error: ' + e);
      });
  </script>
</body>
</html>
